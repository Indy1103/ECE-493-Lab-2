### Task Analysis

### Task Analysis 1

## Specification Analysis Report

| ID | Category | Severity | Location(s) | Summary | Recommendation |
| --- | --- | --- | --- | --- | --- |
| C1 | Constitution Alignment | CRITICAL | specs/005-submit-paper-manuscript/plan.md:26, specs/005- |  |  |
| submit-paper-manuscript/tasks.md:35, specs/005-submit-paper-manuscript/tasks.md:59 | Constitution |  |  |  |  |
| implementation tasks begin before failing tests are defined for those behaviors. | Add explicit |  |  |  |  |
| failing test tasks for foundational auth/validation/storage/duplicate behaviors before Phase 2 |  |  |  |  |  |
| G1 | Coverage Gap | HIGH | specs/005-submit-paper-manuscript/spec.md:101, specs/005-submit-paper- |  |  |
| manuscript/tasks.md:41, specs/005-submit-paper-manuscript/tasks.md:86 | FR-011 (intake closed + |  |  |  |  |
| explicit status guidance) is not explicitly covered by a dedicated contract/integration/e2e test or a |  |  |  |  |  |
| tests (contract/integration/e2e) tied to user-visible guidance. |  |  |  |  |  |
| manuscript/tasks.md:35, specs/005-submit-paper-manuscript/tasks.md:130 | SPR-001 (encrypted |  |  |  |  |
| transport/TLS) is declared but has no concrete task for enforcement or verification; current tasks |  |  |  |  |  |
| submission endpoints and explicit validation evidence. |  |  |  |  |  |
| G3 | Coverage Gap | MEDIUM | specs/005-submit-paper-manuscript/spec.md:99, specs/005-submit-paper- |  |  |
| manuscript/spec.md:161, specs/005-submit-paper-manuscript/tasks.md:66 | FR-009 / SC-004 require |  |  |  |  |
| downstream handoff contract. | Add one implementation task and one failing integration/contract test |  |  |  |  |
| I1 | Inconsistency | MEDIUM | specs/005-submit-paper-manuscript/spec.md:133, specs/005-submit- |  |  |
| entry paths,” but artifacts define one concrete entry path only. | Clarify whether multiple entry |  |  |  |  |

| Requirement Key | Has Task? | Task IDs | Notes |
| --- | --- | --- | --- |
| validate-metadata-and-file-before-persist | Yes | T008, T025, T032, T040 | Validation split by |
| accept-only-on-fully-valid-input | Yes | T023, T026 | Success-path orchestration + persistence |
| reject-unauthenticated-or-expired-session-with-message | Partial | T007 | Implementation present; |
| explicit test coverage not called out |  |  |  |
| reject-when-intake-closed-with-guidance | No | — | Gap (G1) |
| fixed-cycle-required-metadata-policy | Yes | T013, T024 | Policy lookup + enforcement |
| store-files-encrypted-object-storage-with-integrity-metadata | Yes | T011, T014, T025 | At-rest |
| normalize-title-and-reject-active-duplicates | Yes | T009, T015, T047 | Deterministic duplicate |
| tls-protect-data-in-transit | No | — | Gap (G2) |
| redaction coverage present |  |  |  |
| backup-and-restore-for-submission-data | Yes | T051 | Explicit operational coverage |
| downstream-review-availability-after-accept | No | — | Gap (G3) |
| scope unclear (I1) |  |  |  |
| Constitution Alignment Issues: |  |  |  |
- C1 (CRITICAL): test-first sequencing violation risk in current task ordering.
- G2 (HIGH): missing explicit TLS enforcement/verification task coverage for Constitution security
mandate.

Unmapped Tasks:

- No major completely unmapped execution tasks; setup scaffolding tasks (T001–T006) are structural
enablers.

Metrics:

- Total Requirements: 34
- Total Tasks: 52
- Coverage % (requirements with >=1 task): 88% (30/34)
- Ambiguity Count: 1
- Duplication Count: 0
- Critical Issues Count: 1

### Next Actions

- Resolve CRITICAL issue before /speckit.implement.
- Add explicit tasks for intake-closed behavior, TLS enforcement/verification, and downstream
availability signaling.
- Clarify or narrow AMR-004 multi-entry-path scope to remove ambiguity.
- Suggested commands:
1. Run /speckit.tasks after refining task ordering and missing coverage items.
2. If requirement text needs tightening first, run /speckit.specify with targeted refinements for FR-
011, SPR-001, FR-009/SC-004, and AMR-004.

Would you like me to suggest concrete remediation edits for the top 5 issues?

### Task Analysis 1 Changes

1. specs/005-submit-paper-manuscript/tasks.md
Add a foundational test-first block before T007 so Constitution test-first is explicit for
Use these tasks before T007:
- 
    - [ ]  T007 [P] Add failing integration test for unauthenticated/expired-session rejection in
- 
    - [ ]  T008 [P] Add failing integration test for intake-open/intake-closed gating behavior in
- 
    - [ ]  T009 [P] Add failing integration test for deterministic duplicate single-winner behavior in
    backend/tests/integration/manuscript-submissions.integration.test.ts
    
    Add explicit FR-011 intake-closed coverage in User Story implementation/tests:
    
    - [ ]  [new] [P] [US2] Add failing contract test for intake-closed response with user-visible
    guidance (409 INTAKE_CLOSED) in backend/tests/contract/manuscript-submissions.contract.test.ts
- Implementation:
    - [ ]  [new] [US2] Implement intake-closed response mapping with explicit user guidance in backend/
    src/presentation/manuscripts/manuscript-submissions.controller.ts
- E2E:
    - [ ]  [new] [P] [US2] Add failing e2e test for intake-closed submission attempt and guidance
    message in frontend/tests/e2e/submit-manuscript.spec.ts
1. specs/005-submit-paper-manuscript/tasks.md
Add explicit SPR-001 TLS enforcement/verification tasks in Polish:
- 
    - [ ]  [new] [P] Add backend runtime guard to reject non-TLS forwarded requests for submission
    endpoints in backend/src/presentation/middleware/transport-security.ts
- 
    - [ ]  [new] [P] Add integration test verifying non-TLS submission requests are rejected in backend/
    tests/integration/manuscript-submissions.integration.test.ts
- 
    - [ ]  [new] Record TLS-only endpoint verification evidence for manuscript submission in specs/005-
    submit-paper-manuscript/quickstart.md
1. specs/005-submit-paper-manuscript/tasks.md
Add explicit downstream handoff coverage for FR-009 / SC-004:
- 
    - [ ]  [new] [US1] Implement downstream review-intake availability marker/event on accepted
    submission in backend/src/business/manuscripts/submission-handoff.service.ts
- 
    - [ ]  [new] [P] [US1] Add failing integration test verifying accepted submissions are visible to
    downstream intake checks in backend/tests/integration/manuscript-submissions.integration.test.ts
1. specs/005-submit-paper-manuscript/spec.md (or tasks-only alternative)
Resolve AMR-004 scope ambiguity with one explicit sentence under Architecture requirements:
- Option A (single-path scope):
AMR-004 applies to the manuscript submission entry path defined in this feature scope.
- Option B (multi-path intent):
List each supported entry path explicitly and require consistent messaging across that list.

If you want, I can apply these edits directly now (including consistent renumbering in [tasks.md](http://tasks.md/)).

### Task Analysis 2

Explored
└ Read [spec.md](http://spec.md/), [plan.md](http://plan.md/), [tasks.md](http://tasks.md/)
───────────────────────────────────────────────────────────────────────────────────────────────────────
• ## Specification Analysis Report

| ID | Category | Severity | Location(s) | Summary | Recommendation |
| --- | --- | --- | --- | --- | --- |
| valid manuscript submission attempts” but does not define the measurement window/sample context, |  |  |  |  |  |
| making acceptance verification ambiguous. | Add a measurable context (e.g., test run scope/load |  |  |  |  |
| profile/time window) so SC-001 is objectively testable. |  |  |  |  |  |
| G1 | Coverage Gap | MEDIUM | specs/005-submit-paper-manuscript/spec.md:158, specs/005-submit-paper- |  |  |
| current performance task (T057) only targets latency. | Add one test/reporting task that measures and |  |  |  |  |

| author-can-start-submission | Yes | T011, T021, T034 | Authenticated submission path covered |
| request-required-metadata-and-file | Yes | T027, T033 | Requirements retrieval + submit flow |
| validate-before-persist | Yes | T012, T029, T030, T040, T049 | Metadata/file validation mapped |
| metadata-invalid-reject-with-details | Yes | T035, T041, T044, T045 | Validation detail responses
covered |
| file-invalid-reject-with-details | Yes | T046, T050, T052, T053 | File rejection paths covered |
| allow-correction-and-resubmit | Yes | T037, T039, T044, T052 | Recovery UX covered |
| downstream-review-availability | Yes | T026, T032 | Explicit handoff coverage added |
| unauthenticated-or-expired-session-reject | Yes | T007, T011 | Authorization failure path covered |
handling covered |
persistence covered |
duplicate behavior covered |
| tls-in-transit | Yes | T062, T063, T064 | Transport-security verification covered |
present |
| sc-001-valid-attempt-success-rate | No | — | Gap (G1) |
| sc-006-concurrency-single-winner | Yes | T009, T019, T056 | Concurrency acceptance covered |

Constitution Alignment Issues:

- No active Constitution MUST violations detected in current [spec.md/plan.md/tasks.md](http://spec.md/plan.md/tasks.md).

Unmapped Tasks:

- None identified; setup and polish tasks are traceable to architecture/security/reliability
obligations.

Metrics:

- Total Requirements: 33
- Total Tasks: 64
- Coverage % (requirements with >=1 task): 97% (32/33)
- Ambiguity Count: 1
- Duplication Count: 0
- Critical Issues Count: 0

### Next Actions

- No CRITICAL blockers; implementation can proceed after addressing the two quality gaps.
- Improve acceptance measurability by clarifying SC-001 context and adding one explicit success-rate
verification task.
- Suggested commands:
1. Manually edit specs/005-submit-paper-manuscript/spec.md to refine SC-001 measurability.
2. Manually edit specs/005-submit-paper-manuscript/tasks.md to add a success-rate validation/report
task.
3. Re-run /speckit.analyze to confirm full closure.

Would you like me to suggest concrete remediation edits for the top 2 issues?